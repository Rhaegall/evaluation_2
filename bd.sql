CREATE DATABASE hotel_kalifornia CHARACTER SET 'utf8';

USE hotel_kalifornia;

CREATE TABLE customer (
	id SMALLINT(6) UNSIGNED NOT NULL AUTO_INCREMENT,
	name VARCHAR(45) NOT NULL,
	first_name VARCHAR(45) NOT NULL,
	adress VARCHAR(45) NOT NULL,
	phone INT(10) NOT NULL,
	mail VARCHAR(45) NOT NULL,
	password VARCHAR(45) NOT NULL,
	PRIMARY KEY (id)
)
ENGINE=INNODB AUTO_INCREMENT=61 DEFAULT CHARSET=utf8;

CREATE TABLE booking (
	id SMALLINT(6) UNSIGNED NOT NULL AUTO_INCREMENT,
	customer_name VARCHAR(45) NOT NULL,
	room_number INT(2) NOT NULL,
	date_arrived DATETIME NOT NULL,
	departure_date DATETIME NOT NULL,
	associated_service VARCHAR(45) NOT NULL,
	room_price VARCHAR(45) NOT NULL,
	price_service VARCHAR(45) NOT NULL,
	total VARCHAR(45) NOT NULL,
	state BOOLEAN NOT NULL,
	bill VARCHAR(45) NOT NULL,
	PRIMARY KEY (id)
)
ENGINE=INNODB AUTO_INCREMENT=61 DEFAULT CHARSET=utf8;

CREATE TABLE indent (
	id SMALLINT(6) UNSIGNED NOT NULL AUTO_INCREMENT,
	customer_name VARCHAR(45) NOT NULL,
	name_room VARCHAR(45) NOT NULL,
	service_name VARCHAR(45) NOT NULL,
	service_number INT(20) NOT NULL,
	PRIMARY KEY (id)
)
ENGINE=INNODB AUTO_INCREMENT=61 DEFAULT CHARSET=utf8;

CREATE TABLE manager (
	id SMALLINT(6) UNSIGNED NOT NULL AUTO_INCREMENT,
	booking SMALLINT(6) UNSIGNED NOT NULL,
	CONSTRAINT fk_booking_number
		FOREIGN KEY (booking)
		REFERENCES booking(id),
	customer SMALLINT(6) UNSIGNED NOT NULL,
	CONSTRAINT fk_customer_number
		FOREIGN KEY (customer)
		REFERENCES customer(id),
	indent SMALLINT(6) UNSIGNED NOT NULL,
	CONSTRAINT fk_indent_number
		FOREIGN KEY (indent)
		REFERENCES indent(id),
	bedroom SMALLINT(6) UNSIGNED NOT NULL,
	CONSTRAINT fk_bedroom_number
		FOREIGN KEY (bedroom)
		REFERENCES bedroom(id),
	suite SMALLINT(6) UNSIGNED NOT NULL,
	CONSTRAINT fk_suite_number
		FOREIGN KEY (suite)
		REFERENCES suite(id),
	asservice SMALLINT(6) UNSIGNED NOT NULL,
	CONSTRAINT fk_asservice_number
		FOREIGN KEY (asservice)
		REFERENCES asservice(id),
	PRIMARY KEY (id)
)
ENGINE=INNODB AUTO_INCREMENT=61 DEFAULT CHARSET=utf8;

CREATE TABLE bedroom (
	id SMALLINT(6) UNSIGNED NOT NULL AUTO_INCREMENT,
	name VARCHAR(45) NOT NULL,
	area VARCHAR(45) NOT NULL,
	type BOOLEAN NOT NULL,
	floor INT(5) NOT NULL,
	view VARCHAR(45) NOT NULL,
	access BOOLEAN NOT NULL,
	bedding BOOLEAN NOT NULL,
	bathroom BOOLEAN NOT NULL,
	night_price VARCHAR(45) NOT NULL,
		ALTER TABLE bedroom
		ADD CONSTRAINT fk_suite_number
		FOREIGN Key (suite)
		REFERENCES suite(id);
	PRIMARY KEY (id)
)
ENGINE=INNODB AUTO_INCREMENT=61 DEFAULT CHARSET=utf8;


/**CREATE TABLE suite (
	id SMALLINT(6) UNSIGNED NOT NULL AUTO_INCREMENT,
	name VARCHAR(45) NOT NULL,
	area VARCHAR(45) NOT NULL,
	floor INT(5) NOT NULL,
	view VARCHAR(45) NOT NULL,
	access BOOLEAN NOT NULL,
	night_price VARCHAR(45) NOT NULL,
	id_asservice SMALLINT(6) UNSIGNED NOT NULL,
	PRIMARY KEY (id)
)
ENGINE=INNODB AUTO_INCREMENT=61 DEFAULT CHARSET=utf8;**/

/**CREATE TABLE asservice (
	id SMALLINT(6) UNSIGNED NOT NULL AUTO_INCREMENT,
	name VARCHAR(45) NOT NULL,
	description VARCHAR(125) NOT NULL,
	price VARCHAR(45) NOT NULL,
	id_suite SMALLINT(6) UNSIGNED NOT NULL,
	id_equipment SMALLINT(6) UNSIGNED NOT NULL,
	id_wellbeing SMALLINT(6) UNSIGNED NOT NULL,
	id_meal SMALLINT(6) UNSIGNED NOT NULL,
	id_special SMALLINT(6) UNSIGNED NOT NULL,
	PRIMARY KEY (id)
)
ENGINE=INNODB AUTO_INCREMENT=61 DEFAULT CHARSET=utf8;**/

/**CREATE TABLE equipment (
	id  SMALLINT(6) UNSIGNED NOT NULL AUTO_INCREMENT,
	name VARCHAR(45) NOT NULL,
	description VARCHAR(45) NOT NULL,
	price VARCHAR(45) NOT NULL,
	PRIMARY KEY (id)
)
ENGINE=INNODB AUTO_INCREMENT=61 DEFAULT CHARSET=utf8;**/

/**CREATE TABLE wellbeing (
	id  SMALLINT(6) UNSIGNED NOT NULL AUTO_INCREMENT,
	name VARCHAR(45) NOT NULL,
	description VARCHAR(45) NOT NULL,
	price VARCHAR(45) NOT NULL,
	PRIMARY KEY (id)
)
ENGINE=INNODB AUTO_INCREMENT=61 DEFAULT CHARSET=utf8;**/

/**CREATE TABLE meal (
	id SMALLINT(6) UNSIGNED NOT NULL AUTO_INCREMENT,
	name VARCHAR(45) NOT NULL,
	description VARCHAR(45) NOT NULL,
	price VARCHAR(45) NOT NULL,
	PRIMARY KEY (id)
)
ENGINE=INNODB AUTO_INCREMENT=61 DEFAULT CHARSET=utf8;**/

/**CREATE TABLE special (
	id SMALLINT(6) UNSIGNED NOT NULL AUTO_INCREMENT,
	name VARCHAR(45) NOT NULL,
	description VARCHAR(45) NOT NULL,
	price VARCHAR(45) NOT NULL,
	PRIMARY KEY (id)
)
ENGINE=INNODB AUTO_INCREMENT=61 DEFAULT CHARSET=utf8;**/